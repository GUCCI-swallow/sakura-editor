<!DOCTYPE html>
<html>
<head>
    <style>
      * {padding:0;margin:0;box-sizing:border-box;}
      html, body, #editor {width:100%;height:100%;}
      .ace_content{background-image:url(http://dic.nicovideo.jp/oekaki/718421.png)}
    </style>
    <script src="http://d1n0x3qji82z53.cloudfront.net/src-min-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
    <script>
      var editor;
      window.onload = function() { 
        editor = ace.edit("editor");
        editor.setTheme('ace/theme/twilight');
        editor.getSession().setMode('ace/mode/javascript');
        editor.setShowPrintMargin(false);
      };

      function openFile(file) {
        require('fs').readFile(file,'utf8', function(err,data) {
          editor.setValue(data,-1);
        });
      }

      document.ondragover = function(e) { 
        e.preventDefault(); 
        return false; 
      }

      document.ondrop = function(e) { 
        e.preventDefault(); 
        if(e.dataTransfer.files[0]) {
          var file = e.dataTransfer.files[0].path;
          if(/\.js$/.test(file)) { openFile(file); }
        }
        return false; 
      }
    </script>
</head>
<body>
    <div id="editor">
    </div>
</body>
</html>
